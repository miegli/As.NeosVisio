{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace visio=Neoslive\Visio\ViewHelpers}
{namespace m=TYPO3\Media\ViewHelpers}

<!-- Slide -->


<div class='cbp-item <f:for each="{node.properties.tags}" as="tag"> tag-{tag.identifier} </f:for>'>
    <visio:getButton identifier="{link}" asUrl="url" asCss="css" style="" backend="{neos:rendering.inBackend()}">

        <f:if condition="{neos:rendering.inBackend()}">
            <f:then>
                <span class="cbp-caption" data-title="{title}">
            </f:then>
          <f:else>
              <a href="{url}" class="cbp-caption" data-title="{title}">
          </f:else>
        </f:if>
        <div class="cbp-caption-defaultWrap">

            <f:if condition="{node.properties.image}">
                <f:then>
                    <img alt="{linktext}"
                         src="{m:uri.image(asset: node.properties.image,allowCropping:false, width:withImage)}">
                </f:then>
                <f:else>
                    <f:if condition="{neos:rendering.inEditMode()}">
                        <img src="{f:uri.resource(package: 'TYPO3.Neos', path: 'Images/dummy-image.svg')}"
                             title="Dummy image"
                             alt="Dummy image" class="neos-handle {css}"/>
                    </f:if>
                </f:else>
            </f:if>


        </div>
        <div class="cbp-caption-activeWrap">
            <div class="cbp-l-caption-alignCenter">
                <div class="cbp-l-caption-body">
                    <div class="cbp-l-caption-title">{neos:contentElement.editable(property: 'title', tag: 'span')}
                    </div>
                    <div class="cbp-l-caption-desc">{neos:contentElement.editable(property: 'teaser', tag: 'span')}
                    </div>
                </div>
            </div>
        </div>

        <f:if condition="{neos:rendering.inBackend()}">
            <f:then>
                </span>
            </f:then>
            <f:else>
                </a>
            </f:else>
        </f:if>
    </visio:getButton>
</div>
